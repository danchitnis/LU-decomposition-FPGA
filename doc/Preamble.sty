\ProvidesPackage{Preamble}

\usepackage[utf8]{inputenc}      % standard
\usepackage[style=english]{csquotes}            % suppress babel warning
\usepackage[UKenglish]{babel}    % standard for english support
\usepackage[en-GB]{datetime2}
\usepackage[T1]{fontenc}         % font encoding
\usepackage{graphicx,subcaption,wrapfig,float}           % for including prebuilt graphics
%\usepackage[final]{listingsutf8} % for code listings
\usepackage{ifdraft}             % differentiate more easily b/w draft and final
\usepackage{setspace}            % for onehalfspacing (part of uni spec)
\usepackage{stix}
\usepackage{amsmath,amsfonts,bm,cases,blkarray}             % better math environment
\usepackage{multirow,adjustbox,threeparttable}
\usepackage{siunitx}
\usepackage{enumitem}
\usepackage{appendix}
\usepackage{algorithm}
\usepackage{algpseudocode}

\usepackage{caption}           % for adjusting the caption spacing
% Adjust caption spacing for figures & tables because they will be below the
% content
\captionsetup{belowskip=0pt,aboveskip=0pt}
\captionsetup{justification=centering}

\usepackage{geometry}
\geometry{left=2.54cm,right=2.54cm,top=3.18cm,bottom=3.18cm}
\setlength{\headheight}{14pt}

% Move the page number to the top right (odd) / left (even)
\usepackage{fancyhdr}            % uni spec header/footer
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\makeatletter
\let\ps@plain\ps@fancy
\makeatother
% \fancyhead[LE,RO]{\thepage}
\rhead{\thepage}
\pagestyle{fancy}

\usepackage[svgnames]{xcolor}
\usepackage{pgf}
\usepackage{tikz}
\usetikzlibrary{tikzmark,arrows,automata}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=cyan,
    citecolor=green,
    pdfauthor={Yichen Zhang},
    pdftitle={BEng Thesis},
    pdfsubject={Acceleration of LU Decomposition on FPGAs},
    bookmarksopen=true,
    bookmarksopenlevel=1,
    % pdfstartpage=13,
}

\usepackage[atend]{bookmark}
\bookmarksetup{
    numbered,
    addtohook={\ifnum\bookmarkget{level}>2  % Numbered bookmark level
               \DisableBookmarkNumbering\fi},
}
\makeatletter
\newcommand*{\DisableBookmarkNumbering}{
    \let\numberline\@gobble
    % The followings are not needed for subsections and below
    % \let\booknumberline\@gobble
    % \let\partnumberline\@gobble
    % \let\chapternumberline\@gobble
}
\renewcommand{\Hy@numberline}[1]{#1. } %add dots
\makeatother

\usepackage{tocbibind}  % Add toc to toc
\usepackage[titles]{tocloft}               % For table of contents formatting
%% Table of contents formatting
\renewcommand{\cftsecdotsep}{\cftdotsep}   % Give chapters dots too
\setlength\cftbeforesecskip{5pt}   % for spacing after each entry
% \setlength\cftbeforefigskip{\cftbeforechapskip}
% \setlength\cftbeforetabskip{\cftbeforechapskip}

\usepackage [ style=ieee,
              url=false,
              % backend=biber,
              % style=numeric,
              % sorting=none,
              % date=long,
              % urldate=long,
              % minbibnames=3,
              % maxbibnames=6,
              % firstinits=true
            ] {biblatex}         % bibliography support
\addbibresource{Ref/Ref.bib}            % the bib file
\renewbibmacro*{doi+eprint+url}{%
  \printfield{doi}%
  \newunit\newblock%
  \iftoggle{bbx:eprint}{%
      \usebibmacro{eprint}%
  }{}%
  \newunit\newblock%
  \iffieldundef{doi}{%
      \usebibmacro{url+urldate}}%
      {}%
}

\usepackage{listings}
\lstdefinestyle{mystyle}{
    backgroundcolor=\color[rgb]{0.95,0.95,0.92},
    commentstyle=\color[rgb]{0,0.6,0},
    keywordstyle=\color{magenta},
    numberstyle=\color[rgb]{0.5,0.5,0.5},
    stringstyle=\color[rgb]{0.58,0,0.82},
    basicstyle=\linespread{1}\ttfamily,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}
\lstset{style=mystyle}


\setlength{\bibhang}{0pt}
\allowdisplaybreaks[3]  % 跨页公式

% 连字符
% \tolerance=1
% \emergencystretch=\maxdimen
% \hyphenpenalty=10000
% \hbadness=10000


\DeclareUnicodeCharacter{0301}{\'{e}}